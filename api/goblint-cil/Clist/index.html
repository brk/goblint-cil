<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Clist (goblint-cil.Clist)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">goblint-cil</a> &#x00BB; Clist</nav><header class="odoc-preamble"><h1>Module <code><span>Clist</span></code></h1><p>Utilities for managing &quot;concatenable lists&quot; (clists). We often need to concatenate sequences, and using lists for this purpose is expensive. This module provides routines to manage such lists more efficiently. In this model, we never do cons or append explicitly. Instead we maintain the elements of the list in a special data structure. Routines are provided to convert to/from ordinary lists, and carry out common list operations.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-clist" class="anchored"><a href="#type-clist" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a clist</span></span><span> = </span></code><table><tr id="type-clist.CList" class="anchored"><td class="def variant constructor"><a href="#type-clist.CList" class="anchor"></a><code><span>| </span><span><span class="constructor">CList</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The only representation for the empty list. Try to use sparingly.</p><span class="comment-delim">*)</span></td></tr><tr id="type-clist.CConsL" class="anchored"><td class="def variant constructor"><a href="#type-clist.CConsL" class="anchor"></a><code><span>| </span><span><span class="constructor">CConsL</span> <span class="keyword">of</span> <span class="type-var">'a</span> * <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Do not use this a lot because scanning * it is not tail recursive</p><span class="comment-delim">*)</span></td></tr><tr id="type-clist.CConsR" class="anchored"><td class="def variant constructor"><a href="#type-clist.CConsR" class="anchor"></a><code><span>| </span><span><span class="constructor">CConsR</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> * <span class="type-var">'a</span></span></code></td></tr><tr id="type-clist.CSeq" class="anchored"><td class="def variant constructor"><a href="#type-clist.CSeq" class="anchor"></a><code><span>| </span><span><span class="constructor">CSeq</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> * <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>We concatenate only two of them at this time. Neither is the empty clist. To be sure always use append to make these</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The clist datatype. A clist can be an ordinary list, or a clist preceded or followed by an element, or two clists implicitly appended together</p></div></div><div class="odoc-spec"><div class="spec value" id="val-toList" class="anchored"><a href="#val-toList" class="anchor"></a><code><span><span class="keyword">val</span> toList : <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p>Convert a clist to an ordinary list</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fromList" class="anchored"><a href="#val-fromList" class="anchor"></a><code><span><span class="keyword">val</span> fromList : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></div><div class="spec-doc"><p>Convert an ordinary list to a clist</p></div></div><div class="odoc-spec"><div class="spec value" id="val-single" class="anchored"><a href="#val-single" class="anchor"></a><code><span><span class="keyword">val</span> single : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></div><div class="spec-doc"><p>Create a clist containing one element</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></div><div class="spec-doc"><p>The empty clist</p></div></div><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></div><div class="spec-doc"><p>Append two clists</p></div></div><div class="odoc-spec"><div class="spec value" id="val-checkBeforeAppend" class="anchored"><a href="#val-checkBeforeAppend" class="anchor"></a><code><span><span class="keyword">val</span> checkBeforeAppend : <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>A useful check to assert before an append. It checks that the two lists * are not identically the same (Except if they are both empty)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Find the length of a clist</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-clist">clist</a></span></span></code></div><div class="spec-doc"><p>Map a function over a clist. Returns another clist</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_left" class="anchored"><a href="#val-fold_left" class="anchor"></a><code><span><span class="keyword">val</span> fold_left : <span><span>( <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p>A version of fold_left that works on clists</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>A version of iter that works on clists</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rev" class="anchored"><a href="#val-rev" class="anchor"></a><code><span><span class="keyword">val</span> rev : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span></span></code></div><div class="spec-doc"><p>Reverse a clist. The first function reverses an element.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-docCList" class="anchored"><a href="#val-docCList" class="anchor"></a><code><span><span class="keyword">val</span> docCList : 
  <span><a href="../Pretty/index.html#type-doc">Pretty.doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Pretty/index.html#type-doc">Pretty.doc</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-clist">clist</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Pretty/index.html#type-doc">Pretty.doc</a></span></code></div><div class="spec-doc"><p>A document for printing a clist (similar to <code>docList</code>)</p></div></div></div></body></html>